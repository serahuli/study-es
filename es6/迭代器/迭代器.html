<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  // 迭代器是一种接口，为各种不同的数据结构提供统一的访问机制，
  // 任何数据结构只要部署 Iterator 接口，就可以完成遍历操作

  // ES6 创造了一种新的遍历命令 for...of
  /**
   * 原生具备 iterator 接口的数据（for ... of）
   * Array
   * Arguments
   * Set
   * Map
   * String
   * TypedArray
   * NodeList
   */

  // 声明一个数组
  const xiyouji = ['唐僧', '孙悟空', '猪八戒', '沙僧'];

  // for(let i in xiyouji) {
  //   console.log(i); // 0 1 2 3   =======  key
  // }
  //
  // for(let i of xiyouji) {
  //   console.log(i);  // '唐僧', '孙悟空', '猪八戒', '沙僧'   ==== value
  // }

  /**
   * 工作原理
   * 1. 创建一个指针对象，指向当前数据结构的起始位置
   * 2. 第一次调用对象的 next 方法，指针自动指向数据结构的第一个成员
   * 3. 接下来不断调用 next 方法， 指针一直后移，直到指向最后一个成员
   * 4. 每次调用 next 方法返回的一个包含 value 和 done 属性的对象
   */

  let iterator = xiyouji[Symbol.iterator]();
  console.log(iterator);
  console.log(iterator.next()); // {value: "唐僧", done: false}
  console.log(iterator.next()); // {value: "孙悟空", done: false}
  console.log(iterator.next()); // {value: "猪八戒", done: false}
  console.log(iterator.next()); // {value: "沙僧", done: false}
  console.log(iterator.next()); // {value: undefined, done: true}
  console.log(iterator.next()); // {value: undefined, done: true}
</script>
</body>
</html>
